<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="CC">
<insert id="clntSave" parameterType="hashmap">
INSERT INTO INDVDL_CLNT(CLNT_NUM, CLNT_NAME, CLNT_GRADE, PHONE_NUM_1, PHONE_NUM_2, ADRS, DTL_ADRS)
VALUES (INDVDL_CLNT_SEQ.NEXTVAL, #{clnt_name}, #{clnt_grade}, #{phon_num_1}, #{phon_num_2}, #{adrs}, #{dtl_adrs})
</insert>

<select id="getCallCenterClnt" parameterType="hashmap" resultType="hashmap">
SELECT I.CLNT_NUM, I.CLNT_NAME, I.CLNT_GRADE, I.PHONE_NUM_1, TO_CHAR(N.WRITE_DATE, 'YYYY-MM-DD') AS WRITE_DATE,  N.CNSL_TYPE_NUM, N.CONT, N.CNSL_RSLT_NUM
FROM(SELECT  CLNT_NUM, CLNT_NAME, CLNT_GRADE, PHONE_NUM_1
     FROM INDVDL_CLNT
     )I INNER JOIN CNSL_NOTE N
                         ON I.CLNT_NUM = N.CLNT_NUM
WHERE 1=1
ORDER BY I.CLNT_NUM DESC
</select>

</mapper>